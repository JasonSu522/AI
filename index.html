<!DOCTYPE html>

<html lang="zh-TW">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>äººç”Ÿç®¡ç† | Life Manager Pro</title>
<style>
*{box-sizing:border-box;margin:0;padding:0;}
body{background:#020617;color:#e2e8f0;font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',ui-sans-serif,system-ui,sans-serif;min-height:100vh;font-size:15px;}
::-webkit-scrollbar{width:4px;}
::-webkit-scrollbar-thumb{background:#1e293b;border-radius:10px;}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}

/* Layout */
.app{display:-webkit-flex;display:flex;min-height:100vh;}
.sidebar{position:fixed;left:0;top:0;bottom:0;width:68px;background:#0f172a;border-right:1px solid #1e293b;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-align-items:center;align-items:center;padding:20px 0;z-index:40;}
.main{margin-left:68px;padding:28px 24px;min-height:100vh;overflow-y:auto;-webkit-overflow-scrolling:touch;width:calc(100% - 68px);}

/* Nav buttons */
.nav-btn{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;width:100%;height:56px;border:none;background:transparent;cursor:pointer;color:#64748b;border-right:2px solid transparent;transition:all 0.2s;-webkit-tap-highlight-color:transparent;}
.nav-btn:hover,.nav-btn:active{color:#cbd5e1;background:rgba(255,255,255,0.03);}
.nav-btn.active{color:#60a5fa;background:rgba(59,130,246,0.1);border-right-color:#3b82f6;}
.nav-btn svg{width:20px;height:20px;}
.nav-label{font-size:9px;margin-top:4px;font-weight:900;text-transform:uppercase;letter-spacing:0.06em;}
.voice-btn{margin-top:auto;margin-bottom:12px;width:42px;height:42px;border-radius:50%;border:none;cursor:pointer;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;background:#1e293b;color:#94a3b8;-webkit-tap-highlight-color:transparent;}
.voice-btn.listening{background:#ef4444;color:white;animation:pulse 1.5s infinite;}

/* Cards */
.card{background:#0f172a;border:1px solid #1e293b;border-radius:20px;padding:22px;width:100%;}
.total-card{background:#0f172a;border:1px solid #1e293b;border-radius:28px;padding:28px;text-align:center;width:100%;}
.ai-panel{background:linear-gradient(135deg,rgba(23,37,84,0.5),#0f172a);border:1px solid rgba(59,130,246,0.3);border-radius:20px;padding:20px;width:100%;}
.ai-panel-green{background:#0f172a;border:1px solid rgba(16,185,129,0.3);border-radius:18px;padding:18px;width:100%;}

/* Grid â€” flex-based for max Safari compatibility */
.grid-2{display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;gap:18px;}
.grid-2 > *{-webkit-flex:1 1 calc(50% - 9px);flex:1 1 calc(50% - 9px);min-width:240px;}
.grid-asset{display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;gap:18px;}
.grid-asset > *:first-child{-webkit-flex:1.4 1 220px;flex:1.4 1 220px;min-width:0;}
.grid-asset > *:last-child{-webkit-flex:1 1 160px;flex:1 1 160px;min-width:0;}

@media(max-width:680px){
.grid-2 > *{-webkit-flex:1 1 100%;flex:1 1 100%;min-width:0;}
.grid-asset > *{-webkit-flex:1 1 100%;flex:1 1 100%;min-width:0;}
.main{padding:14px 14px 80px;margin-left:0;width:100%;overflow-y:auto;max-height:calc(100vh - 62px);}
.sidebar{width:100%;height:62px;top:auto;bottom:0;-webkit-flex-direction:row;flex-direction:row;border-right:none;border-top:1px solid #1e293b;padding:0;-webkit-justify-content:space-around;justify-content:space-around;}
.nav-btn{height:62px;border-right:none;border-top:2px solid transparent;width:auto;padding:0 8px;-webkit-flex:1;flex:1;}
.nav-btn.active{border-top-color:#3b82f6;border-right:none;}
.voice-btn{margin:0;-webkit-flex-shrink:0;flex-shrink:0;}
}

/* Typography */
.section-title{font-size:14px;font-weight:900;font-style:italic;text-transform:uppercase;letter-spacing:0.1em;color:#94a3b8;}
.label-xs{font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:0.15em;color:#64748b;}
.empty-msg{color:#475569;font-size:14px;font-style:italic;text-align:center;padding:18px 0;}

/* Buttons */
.btn-blue{background:#2563eb;color:white;border:none;border-radius:10px;padding:9px;cursor:pointer;display:-webkit-inline-flex;display:inline-flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;-webkit-tap-highlight-color:transparent;}
.btn-blue:hover{background:#1d4ed8;}
.btn-green{background:#059669;color:white;border:none;border-radius:10px;padding:9px;cursor:pointer;display:-webkit-inline-flex;display:inline-flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;-webkit-tap-highlight-color:transparent;}
.btn-ghost{background:rgba(59,130,246,0.15);color:#60a5fa;border:1px solid rgba(59,130,246,0.3);border-radius:9px;padding:7px 14px;font-size:11px;font-weight:900;cursor:pointer;white-space:nowrap;-webkit-tap-highlight-color:transparent;}
.btn-ghost:hover{background:rgba(59,130,246,0.28);}
.btn-ghost:disabled{opacity:0.5;cursor:not-allowed;}
.btn-ghost-green{background:rgba(16,185,129,0.1);color:#34d399;border:1px solid rgba(16,185,129,0.25);border-radius:9px;padding:7px 14px;font-size:11px;font-weight:900;cursor:pointer;-webkit-tap-highlight-color:transparent;}
.btn-del{background:none;border:none;color:#334155;cursor:pointer;padding:6px;display:-webkit-inline-flex;display:inline-flex;-webkit-align-items:center;align-items:center;-webkit-tap-highlight-color:transparent;}
.btn-del:hover,.btn-del:active{color:#ef4444;}
.btn-edit{background:none;border:none;color:#334155;cursor:pointer;padding:6px;display:-webkit-inline-flex;display:inline-flex;-webkit-align-items:center;align-items:center;-webkit-tap-highlight-color:transparent;}
.btn-edit:hover,.btn-edit:active{color:#60a5fa;}
.btn-text-blue{background:none;border:none;font-size:11px;font-weight:900;text-transform:uppercase;cursor:pointer;color:#60a5fa;padding:0;-webkit-tap-highlight-color:transparent;}
.btn-text-red{background:none;border:none;font-size:11px;font-weight:900;text-transform:uppercase;cursor:pointer;color:#7f1d1d;padding:0;-webkit-tap-highlight-color:transparent;}
.btn-text-red:hover,.btn-text-red:active{color:#ef4444;}

/* Progress */
.prog-bar{height:5px;background:#1e293b;border-radius:9999px;overflow:hidden;margin-top:5px;}
.prog-fill{height:100%;background:#3b82f6;border-radius:9999px;transition:width 0.4s;}
.prog-input{width:48px;text-align:center;font-size:12px;font-weight:900;color:#60a5fa;padding:4px;background:#020617;border:1px solid #334155;border-radius:7px;font-family:inherit;}

/* Items */
.asset-item{padding:13px 15px;background:rgba(30,41,59,0.25);border:1px solid #1e293b;border-radius:13px;display:-webkit-flex;display:flex;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;align-items:center;margin-bottom:9px;}
.note-card{background:rgba(30,41,59,0.2);border:1px solid #1e293b;border-radius:13px;overflow:hidden;margin-bottom:9px;}
.note-header{width:100%;padding:13px 15px;display:-webkit-flex;display:flex;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;align-items:center;background:none;border:none;color:#e2e8f0;cursor:pointer;font-size:13px;font-weight:900;font-style:italic;text-align:left;font-family:inherit;-webkit-tap-highlight-color:transparent;}
.note-body{padding:15px;border-top:1px solid rgba(30,41,59,0.6);background:rgba(2,6,23,0.4);font-size:13px;color:#94a3b8;line-height:1.7;}
.drag-item{padding:13px 15px;background:rgba(30,41,59,0.2);border:1px solid #1e293b;border-radius:13px;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;gap:12px;margin-bottom:9px;transition:opacity 0.2s;}
.drag-item.drag-over{opacity:0.3;border-color:#3b82f6;}
.travel-card{padding:17px;background:rgba(30,41,59,0.2);border:1px solid #1e293b;border-radius:18px;display:-webkit-flex;display:flex;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;align-items:center;margin-bottom:9px;}
.travel-icon{padding:10px;background:rgba(16,185,129,0.1);border-radius:12px;color:#10b981;display:-webkit-flex;display:flex;}

/* Modal */
.modal-overlay{position:fixed;inset:0;z-index:200;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;padding:16px;}
.modal-box{position:relative;background:#0f172a;border:1px solid #1e293b;width:100%;max-width:440px;border-radius:32px;padding:36px;box-shadow:0 30px 60px rgba(0,0,0,0.7);z-index:1;max-height:90vh;overflow-y:auto;-webkit-overflow-scrolling:touch;animation:fadeIn 0.2s ease;}
.modal-title{font-size:20px;font-weight:900;font-style:italic;text-transform:uppercase;letter-spacing:-0.04em;color:white;margin-bottom:24px;}
.close-btn{position:absolute;top:16px;right:16px;background:#1e293b;border:none;color:#64748b;cursor:pointer;width:32px;height:32px;border-radius:50%;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;-webkit-tap-highlight-color:transparent;}
.close-btn:hover,.close-btn:active{color:white;}
.form-group{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;gap:7px;margin-bottom:16px;}
.form-group label{font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:0.15em;color:#64748b;}
.form-group input,.form-group textarea{background:#1e293b;border:1px solid #334155;border-radius:12px;padding:13px 16px;font-size:15px;color:#e2e8f0;outline:none;width:100%;font-family:inherit;-webkit-appearance:none;}
.form-group input[type=â€œdateâ€]{color-scheme:dark;}
.form-group input:focus,.form-group textarea:focus{border-color:#3b82f6;}
.form-group textarea{height:110px;resize:vertical;}
.btn-submit{width:100%;padding:15px;background:#2563eb;color:white;border:none;border-radius:13px;font-size:14px;font-weight:900;text-transform:uppercase;letter-spacing:0.2em;cursor:pointer;margin-top:4px;-webkit-tap-highlight-color:transparent;}
.btn-submit:hover{background:#1d4ed8;}

/* Page sections */
.page{display:none;-webkit-flex-direction:column;flex-direction:column;gap:18px;}
.page.active{display:-webkit-flex;display:flex;animation:fadeIn 0.25s ease;}
.header-row{display:-webkit-flex;display:flex;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;align-items:center;margin-bottom:16px;}
</style>

</head>
<body>
<div class="app">
  <nav class="sidebar" id="sidebar">
    <div style="margin-bottom:22px;color:#3b82f6;">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96-.46 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96-.46 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/></svg>
    </div>
    <button class="nav-btn active" id="btn-dashboard">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></svg>
      <span class="nav-label">ç¸½è¦½</span>
    </button>
    <button class="nav-btn" id="btn-plans">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="4" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
      <span class="nav-label">è¨ˆç•«</span>
    </button>
    <button class="nav-btn" id="btn-health">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
      <span class="nav-label">å¥åº·</span>
    </button>
    <button class="nav-btn" id="btn-assets">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"/><path d="M22 12A10 10 0 0 0 12 2v10z"/></svg>
      <span class="nav-label">è³‡ç”¢</span>
    </button>
    <button class="nav-btn" id="btn-notes">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>
      <span class="nav-label">ç­†è¨˜</span>
    </button>
    <button class="nav-btn" id="btn-travel">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"/><line x1="9" y1="3" x2="9" y2="18"/><line x1="15" y1="6" x2="15" y2="21"/></svg>
      <span class="nav-label">æ—…éŠ</span>
    </button>
    <button class="voice-btn" id="voiceBtn" title="èªéŸ³è¼¸å…¥">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="22"/></svg>
    </button>
  </nav>

  <main class="main">
    <div style="margin-bottom:24px;">
      <h1 style="font-size:24px;font-weight:900;color:white;font-style:italic;text-transform:uppercase;letter-spacing:-0.04em;">äººç”Ÿç®¡ç†</h1>
      <p class="label-xs" style="margin-top:5px;">Efficiency &amp; Vision</p>
    </div>

```
<!-- Dashboard -->
<div id="page-dashboard" class="page active">
  <div class="grid-2">
    <div class="card" style="display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-align-items:center;align-items:center;gap:13px;">
      <p style="font-size:11px;font-weight:900;color:#60a5fa;text-transform:uppercase;letter-spacing:0.14em;font-style:italic;">â¬¡ äººç”Ÿé›·é”åœ–</p>
      <svg id="radarSvg" viewBox="0 0 200 200" style="width:100%;max-width:200px;display:block;margin:0 auto;"></svg>
    </div>
    <div class="ai-panel" style="display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;gap:13px;">
      <div style="display:-webkit-flex;display:flex;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;align-items:center;">
        <span style="font-size:12px;font-weight:900;color:#60a5fa;text-transform:uppercase;letter-spacing:0.08em;font-style:italic;">âœ¦ AI ç”Ÿå‘½åˆ†æ</span>
        <button class="btn-ghost" id="aiBtn">é‡æ–°ç”¢ç”Ÿ</button>
      </div>
      <p id="aiSummary" style="font-size:13px;color:#cbd5e1;line-height:1.75;white-space:pre-wrap;-webkit-flex:1;flex:1;min-height:70px;">é»æ“Šã€Œé‡æ–°ç”¢ç”Ÿã€å–å¾— AI å°ˆå±¬åˆ†æ...</p>
    </div>
  </div>
  <div class="card">
    <p class="section-title" style="margin-bottom:15px;">ğŸ“… å¹´åº¦ç›®æ¨™é€²åº¦</p>
    <div id="dashYearlyList"></div>
  </div>
  <div class="total-card">
    <p class="label-xs">ç¸½è³‡ç”¢å¸‚å€¼ï¼ˆæ·¨å€¼ï¼‰</p>
    <div id="dashTotal" style="font-size:36px;font-weight:900;color:white;font-style:italic;margin:10px 0 22px;"></div>
    <svg id="pieSvgDash" viewBox="-1.15 -1.15 2.3 2.3" style="transform:rotate(-90deg);width:100%;max-width:220px;height:auto;display:block;margin:0 auto;"></svg>
    <div id="pieLegendDash" style="display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;gap:8px;-webkit-justify-content:center;justify-content:center;margin-top:15px;"></div>
    <div style="margin-top:22px;padding-top:20px;border-top:1px solid #1e293b;display:-webkit-flex;display:flex;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;align-items:center;">
      <div>
        <p class="label-xs">ç·Šæ€¥é å‚™é‡‘</p>
        <p id="emergencyDisplay" style="font-size:22px;font-weight:900;color:#60a5fa;font-style:italic;margin-top:5px;">$0</p>
      </div>
      <button class="btn-ghost" id="emergencyBtn">ä¿®æ”¹é‡‘é¡</button>
    </div>
  </div>
</div>

<!-- Plans -->
<div id="page-plans" class="page">
  <div class="card">
    <div class="header-row">
      <span class="section-title">å¹´åº¦ç›®æ¨™è¨ˆç•«</span>
      <button class="btn-blue" id="addYearlyBtn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
      </button>
    </div>
    <div id="yearlyList"></div>
  </div>
  <div class="card">
    <div class="header-row">
      <span class="section-title">æ¯æ—¥ä»»å‹™ç®¡ç†</span>
      <button class="btn-blue" id="addDailyBtn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
      </button>
    </div>
    <div id="dailyList"></div>
  </div>
</div>

<!-- Health -->
<div id="page-health" class="page">
  <div class="card">
    <div class="header-row">
      <span class="section-title">å¥åº·æ•¸æ“šè¶¨å‹¢</span>
      <button class="btn-blue" id="addHealthBtn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
      </button>
    </div>
    <div id="healthChart"></div>
    <p class="label-xs" style="margin:17px 0 11px;">æ­·å²è¨˜éŒ„</p>
    <div id="healthLogs"></div>
  </div>
</div>

<!-- Assets -->
<div id="page-assets" class="page">
  <div class="ai-panel-green">
    <div style="display:-webkit-flex;display:flex;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;align-items:center;margin-bottom:11px;">
      <span style="font-size:12px;font-weight:900;color:#34d399;text-transform:uppercase;letter-spacing:0.08em;">â“˜ AI è³‡ç”¢é…ç½®å»ºè­°</span>
      <button class="btn-ghost-green" id="assetAiBtn">é–‹å§‹åˆ†æ</button>
    </div>
    <p id="assetAdvice" style="font-size:13px;color:#94a3b8;line-height:1.65;font-style:italic;">é»æ“Šã€Œé–‹å§‹åˆ†æã€ï¼ŒAI å°‡æä¾›è³‡ç”¢é…ç½®å„ªåŒ–å»ºè­°ã€‚</p>
  </div>
  <div class="grid-asset">
    <div class="total-card" style="border-radius:24px;">
      <p class="label-xs">ç¸½è³‡ç”¢å¸‚å€¼</p>
      <div id="assetTotal" style="font-size:28px;font-weight:900;color:white;font-style:italic;margin:9px 0 19px;"></div>
      <svg id="pieSvgAsset" viewBox="-1.15 -1.15 2.3 2.3" style="transform:rotate(-90deg);width:100%;max-width:200px;height:auto;display:block;margin:0 auto;"></svg>
      <div id="pieLegendAsset" style="display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;gap:8px;-webkit-justify-content:center;justify-content:center;margin-top:13px;"></div>
    </div>
    <div class="card">
      <div class="header-row">
        <span class="section-title">è³‡ç”¢æ˜ç´°</span>
        <button class="btn-blue" id="addAssetBtn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        </button>
      </div>
      <div id="assetList"></div>
    </div>
  </div>
</div>

<!-- Notes â€” full-width column layout on mobile, 2-col on desktop -->
<div id="page-notes" class="page">
  <div class="grid-2">
    <div class="card">
      <div class="header-row">
        <span class="label-xs">äººç”Ÿæˆé•·</span>
        <button class="btn-blue" id="addNoteLifeBtn" style="padding:7px;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        </button>
      </div>
      <div id="notes-life"></div>
    </div>
    <div class="card">
      <div class="header-row">
        <span class="label-xs">æ›¸ç±é‡é»</span>
        <button class="btn-blue" id="addNoteBookBtn" style="padding:7px;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        </button>
      </div>
      <div id="notes-book"></div>
    </div>
    <div class="card">
      <div class="header-row">
        <span class="label-xs">å°æŒ‡äº¤æ˜“</span>
        <button class="btn-blue" id="addNoteTradingBtn" style="padding:7px;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        </button>
      </div>
      <div id="notes-trading"></div>
    </div>
    <div class="card">
      <div class="header-row">
        <span class="label-xs">ç¶²è·¯å¿ƒå¾—</span>
        <button class="btn-blue" id="addNoteWebBtn" style="padding:7px;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        </button>
      </div>
      <div id="notes-web"></div>
    </div>
  </div>
</div>

<!-- Travel -->
<div id="page-travel" class="page">
  <div class="card">
    <div class="header-row">
      <span class="section-title">æ—…éŠé¡˜æœ›èˆ‡è¡Œç¨‹</span>
      <button class="btn-green" id="addTravelBtn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
      </button>
    </div>
    <div id="travelList"></div>
  </div>
</div>
```

  </main>
</div>

<!-- Modal -->

<div id="modalOverlay" style="position:fixed;inset:0;z-index:200;display:none;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;padding:16px;">
  <div id="modalBg" style="position:absolute;inset:0;background:rgba(0,0,0,0.88);"></div>
  <div class="modal-box">
    <button class="close-btn" id="closeModalBtn">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
    </button>
    <div id="modalTitle" class="modal-title"></div>
    <form id="modalForm">
      <div id="modalFields"></div>
      <button type="submit" class="btn-submit">ç¢ºèªé€å‡º</button>
    </form>
  </div>
</div>

<script>
var GEMINI_KEY = 'AIzaSyAky6gF4ekVOuL0JiCr8ayBpD83wrLqe28';
var COLORS = ['#3b82f6','#10b981','#f59e0b','#ef4444','#8b5cf6'];

function load() { try { return JSON.parse(localStorage.getItem('lm3') || '{}'); } catch(e) { return {}; } }
function save(d) { try { localStorage.setItem('lm3', JSON.stringify(d)); } catch(e) {} }
function genId() { return '_' + Math.random().toString(36).slice(2) + Date.now().toString(36); }
function esc(s) {
  return String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
}

var DB = load();
var radarData = { wealth:50, health:50, growth:50, discipline:50, experience:50 };
var aiLoading = false;
var dragSrc = null;
var modalMeta = {};

if (!DB.assets || DB.assets.length === 0) {
  DB.assets = [
    {id:genId(),name:'å°è‚¡',amount:2544261,category:'å°è‚¡',createdAt:Date.now()},
    {id:genId(),name:'ç¾è‚¡',amount:829175,category:'ç¾è‚¡',createdAt:Date.now()},
    {id:genId(),name:'å°æ–°å¤–å¹£(æ´»)-USD',amount:4257,category:'ç¾è‚¡',createdAt:Date.now()},
    {id:genId(),name:'å°æ–°å¤–å¹£(æ´»)-JPY',amount:6006,category:'ç¾é‡‘',createdAt:Date.now()},
    {id:genId(),name:'å°æ–°å¤–å¹£(å®š)-USD',amount:75473,category:'ç¾è‚¡',createdAt:Date.now()},
    {id:genId(),name:'åˆåº«(æ´»å­˜)',amount:1357878,category:'ç¾é‡‘',createdAt:Date.now()},
    {id:genId(),name:'å°æ–°(æ´»å­˜)',amount:57170,category:'ç¾é‡‘',createdAt:Date.now()},
    {id:genId(),name:'å½°éŠ€(æ´»å­˜)',amount:457003,category:'ç¾é‡‘',createdAt:Date.now()},
    {id:genId(),name:'å…†è±(å‚™ç”¨é‡‘)',amount:43314,category:'ç¾é‡‘',createdAt:Date.now()},
    {id:genId(),name:'é»ƒé‡‘(2.2ç›å¸)',amount:357357,category:'é»ƒé‡‘',createdAt:Date.now()},
    {id:genId(),name:'å°å¹£ç¾é‡‘',amount:20000,category:'ç¾é‡‘',createdAt:Date.now()},
    {id:genId(),name:'å€Ÿå¿—',amount:300000,category:'å€Ÿæ¬¾',createdAt:Date.now()},
  ];
  save(DB);
}

// â”€â”€â”€ TAB NAVIGATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
var TABS = ['dashboard','plans','health','assets','notes','travel'];

function showTab(id) {
  TABS.forEach(function(t) {
    var page = document.getElementById('page-' + t);
    var btn = document.getElementById('btn-' + t);
    if (page) {
      page.classList.remove('active');
      page.style.display = 'none';
    }
    if (btn) btn.classList.remove('active');
  });
  var activePage = document.getElementById('page-' + id);
  var activeBtn = document.getElementById('btn-' + id);
  if (activePage) {
    activePage.classList.add('active');
    activePage.style.removeProperty('display');
  }
  if (activeBtn) activeBtn.classList.add('active');
  renderAll();
}

TABS.forEach(function(t) {
  var btn = document.getElementById('btn-' + t);
  if (!btn) return;
  btn.addEventListener('click', function(e) { e.preventDefault(); showTab(t); });
  // Also bind touchend for Safari
  btn.addEventListener('touchend', function(e) { e.preventDefault(); showTab(t); });
});

// â”€â”€â”€ DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function getCategorized() {
  var c = {'å°è‚¡':0,'ç¾è‚¡':0,'ç¾é‡‘':0,'é»ƒé‡‘':0,'å€Ÿæ¬¾':0};
  (DB.assets||[]).forEach(function(a) {
    var amt = Number(a.amount)||0;
    var cat = a.category||'ç¾é‡‘';
    if (c[cat] === undefined) c[cat] = 0;
    c[cat] += amt;
  });
  return Object.keys(c).map(function(k) { return {name:k, amount:c[k]}; });
}
function getTotal() { return getCategorized().reduce(function(a,b) { return a+b.amount; }, 0); }

// â”€â”€â”€ PIE CHART â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderPie(svgId, legendId) {
  var data = getCategorized();
  var total = getTotal();
  var svg = document.getElementById(svgId);
  var legend = document.getElementById(legendId);
  if (!svg) return;
  svg.innerHTML = '';
  if (!total) return;
  var cum = 0;
  function coord(p) { return [Math.cos(2*Math.PI*p), Math.sin(2*Math.PI*p)]; }
  data.forEach(function(item, i) {
    var pct = item.amount / total;
    if (pct <= 0) return;
    var sp = cum;
    var sc = coord(sp); var sx = sc[0], sy = sc[1];
    cum += pct;
    var ec = coord(cum); var ex = ec[0], ey = ec[1];
    var mc = coord(sp + pct/2); var mx = mc[0], my = mc[1];
    var large = pct > 0.5 ? 1 : 0;
    var path = document.createElementNS('http://www.w3.org/2000/svg','path');
    path.setAttribute('d','M'+sx+' '+sy+' A1 1 0 '+large+' 1 '+ex+' '+ey+' L0 0');
    path.setAttribute('fill',COLORS[i%COLORS.length]);
    path.setAttribute('stroke','#020617'); path.setAttribute('stroke-width','0.025');
    svg.appendChild(path);
    if (pct > 0.07) {
      var t2 = document.createElementNS('http://www.w3.org/2000/svg','text');
      t2.setAttribute('x',mx*0.68); t2.setAttribute('y',my*0.68);
      t2.setAttribute('fill','white'); t2.setAttribute('font-size','0.12');
      t2.setAttribute('font-weight','bold'); t2.setAttribute('text-anchor','middle');
      t2.setAttribute('dominant-baseline','middle');
      t2.setAttribute('transform','rotate(90,'+mx*0.68+','+my*0.68+')');
      t2.textContent = item.name+' '+Math.round(pct*100)+'%';
      svg.appendChild(t2);
    }
  });
  if (legend) {
    legend.innerHTML = data.map(function(item,i) {
      return '<span style="font-size:11px;font-weight:700;color:'+COLORS[i%COLORS.length]+';display:inline-flex;align-items:center;gap:5px;"><span style="width:9px;height:9px;border-radius:50%;background:'+COLORS[i%COLORS.length]+';display:inline-block;flex-shrink:0;"></span>'+item.name+': $'+Number(item.amount).toLocaleString()+'</span>';
    }).join('');
  }
}

// â”€â”€â”€ RADAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderRadar() {
  var svg = document.getElementById('radarSvg');
  if (!svg) return;
  svg.innerHTML = '';
  var keys = ['wealth','health','growth','discipline','experience'];
  var labels = ['è²¡å‹™','å¥åº·','æˆé•·','è‡ªå¾‹','é«”é©—'];
  var C=100, R=66;
  function coord(i,v) {
    var a = Math.PI*2*i/5 - Math.PI/2;
    var r = R*v/100;
    return [C+r*Math.cos(a), C+r*Math.sin(a)];
  }
  [20,40,60,80,100].forEach(function(v) {
    var poly = document.createElementNS('http://www.w3.org/2000/svg','polygon');
    poly.setAttribute('points', keys.map(function(_,j){ return coord(j,v).join(','); }).join(' '));
    poly.setAttribute('fill','none'); poly.setAttribute('stroke','#1e293b'); poly.setAttribute('stroke-width','0.7');
    svg.appendChild(poly);
  });
  keys.forEach(function(_,i) {
    var pt = coord(i,100);
    var line = document.createElementNS('http://www.w3.org/2000/svg','line');
    line.setAttribute('x1',C); line.setAttribute('y1',C); line.setAttribute('x2',pt[0]); line.setAttribute('y2',pt[1]);
    line.setAttribute('stroke','#1e293b'); line.setAttribute('stroke-width','0.7');
    svg.appendChild(line);
  });
  var poly = document.createElementNS('http://www.w3.org/2000/svg','polygon');
  poly.setAttribute('points', keys.map(function(k,i){ return coord(i,radarData[k]||50).join(','); }).join(' '));
  poly.setAttribute('fill','rgba(59,130,246,0.2)'); poly.setAttribute('stroke','#3b82f6');
  poly.setAttribute('stroke-width','2'); poly.setAttribute('stroke-linejoin','round');
  svg.appendChild(poly);
  keys.forEach(function(k,i) {
    var pt = coord(i,radarData[k]||50);
    var c = document.createElementNS('http://www.w3.org/2000/svg','circle');
    c.setAttribute('cx',pt[0]); c.setAttribute('cy',pt[1]); c.setAttribute('r','3.5'); c.setAttribute('fill','#3b82f6');
    svg.appendChild(c);
  });
  labels.forEach(function(l,i) {
    var pt = coord(i,122);
    var t = document.createElementNS('http://www.w3.org/2000/svg','text');
    t.setAttribute('x',pt[0]); t.setAttribute('y',pt[1]); t.setAttribute('fill','#64748b');
    t.setAttribute('font-size','10'); t.setAttribute('font-weight','bold');
    t.setAttribute('text-anchor','middle'); t.setAttribute('dominant-baseline','middle');
    t.textContent = l;
    svg.appendChild(t);
  });
}

// â”€â”€â”€ HEALTH CHART â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderHealthChart() {
  var el = document.getElementById('healthChart');
  if (!el) return;
  var data = DB.health_logs || [];
  if (data.length < 2) { el.innerHTML = '<p class="empty-msg">è«‹æ–°å¢è‡³å°‘å…©ç­†è³‡æ–™ä»¥é¡¯ç¤ºè¶¨å‹¢åœ–</p>'; return; }
  var W=380, H=150, P=24;
  var keys=['weight','fat','muscle'], colors=['#3b82f6','#ef4444','#10b981'], lbls=['é«”é‡','é«”è„‚','è‚Œè‚‰'];
  function getPoints(key) {
    var vals = data.map(function(d) { return parseFloat(d[key])||0; });
    var min=Math.min.apply(null,vals), max=Math.max.apply(null,vals), range=max===min?1:max-min;
    return data.map(function(d,i) {
      return { x:P+(i/(data.length-1))*(W-2*P), y:(H-P)-((parseFloat(d[key])||0)-min)/range*(H-2*P) };
    });
  }
  var paths = '';
  keys.forEach(function(k,i) {
    var pts = getPoints(k);
    paths += '<polyline fill="none" stroke="'+colors[i]+'" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" points="'+pts.map(function(p){ return p.x+','+p.y; }).join(' ')+'"/>';
    pts.forEach(function(p) { paths += '<circle cx="'+p.x+'" cy="'+p.y+'" r="4" fill="'+colors[i]+'" stroke="#020617" stroke-width="1.5"/>'; });
  });
  var legend = lbls.map(function(l,i) { return '<span style="font-size:11px;color:'+colors[i]+';font-weight:900;display:inline-flex;align-items:center;gap:5px;"><span style="width:14px;height:3px;background:'+colors[i]+';border-radius:2px;display:inline-block;"></span>'+l+'</span>'; }).join('');
  el.innerHTML = '<div style="background:rgba(2,6,23,0.4);padding:13px;border-radius:12px;border:1px solid #1e293b;"><svg viewBox="0 0 '+W+' '+H+'" style="width:100%;height:130px;overflow:visible;">'+paths+'</svg><div style="display:flex;gap:18px;justify-content:center;margin-top:9px;">'+legend+'</div></div>';
}

// â”€â”€â”€ RENDER FUNCTIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderDashStats() {
  var t = getTotal();
  var ef = document.getElementById('emergencyDisplay');
  var dt = document.getElementById('dashTotal');
  var at = document.getElementById('assetTotal');
  if (ef) ef.textContent = '$'+Number(DB.emergencyFund||0).toLocaleString();
  if (dt) dt.textContent = '$'+t.toLocaleString();
  if (at) at.textContent = '$'+t.toLocaleString();
}

function renderDashYearly() {
  var el = document.getElementById('dashYearlyList');
  if (!el) return;
  var items = (DB.plans_yearly||[]).slice(0,5);
  if (!items.length) { el.innerHTML = '<p class="empty-msg">å°šç„¡è¨ˆç•«ï¼Œå‰å¾€ã€Œè¨ˆç•«ã€é æ–°å¢</p>'; return; }
  el.innerHTML = items.map(function(p) {
    return '<div style="margin-bottom:14px;"><div style="display:flex;justify-content:space-between;font-size:13px;font-weight:700;font-style:italic;margin-bottom:5px;"><span>'+esc(p.title)+'</span><span style="color:#60a5fa;">'+(p.progress||0)+'%</span></div><div class="prog-bar"><div class="prog-fill" style="width:'+(p.progress||0)+'%;"></div></div></div>';
  }).join('');
}

function renderYearly() {
  var el = document.getElementById('yearlyList');
  if (!el) return;
  var items = DB.plans_yearly || [];
  if (!items.length) { el.innerHTML = '<p class="empty-msg">å°šç„¡é …ç›®ï¼Œé»æ“Š + æ–°å¢</p>'; return; }
  el.innerHTML = items.map(function(item,idx) {
    return '<div class="drag-item" draggable="true" data-col="plans_yearly" data-idx="'+idx+'" data-id="'+item.id+'">'
      +'<span style="color:#334155;cursor:grab;flex-shrink:0;"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="9" cy="12" r="1"/><circle cx="9" cy="5" r="1"/><circle cx="9" cy="19" r="1"/><circle cx="15" cy="12" r="1"/><circle cx="15" cy="5" r="1"/><circle cx="15" cy="19" r="1"/></svg></span>'
      +'<div style="flex:1;min-width:0;"><p style="font-size:14px;font-weight:900;font-style:italic;color:#e2e8f0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+esc(item.title)+'</p></div>'
      +'<input type="number" min="0" max="100" value="'+(item.progress||0)+'" class="prog-input" data-col="plans_yearly" data-id="'+item.id+'"/>'
      +'<button class="btn-del" data-col="plans_yearly" data-id="'+item.id+'"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg></button>'
      +'</div>';
  }).join('');
  bindDragItems('plans_yearly');
  bindProgressInputs();
  bindDeleteBtns();
}

function renderDaily() {
  var el = document.getElementById('dailyList');
  if (!el) return;
  var items = DB.plans_daily || [];
  if (!items.length) { el.innerHTML = '<p class="empty-msg">å°šç„¡é …ç›®ï¼Œé»æ“Š + æ–°å¢</p>'; return; }
  el.innerHTML = items.map(function(item,idx) {
    return '<div class="drag-item" draggable="true" data-col="plans_daily" data-idx="'+idx+'" data-id="'+item.id+'">'
      +'<span style="color:#334155;cursor:grab;flex-shrink:0;"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="9" cy="12" r="1"/><circle cx="9" cy="5" r="1"/><circle cx="9" cy="19" r="1"/><circle cx="15" cy="12" r="1"/><circle cx="15" cy="5" r="1"/><circle cx="15" cy="19" r="1"/></svg></span>'
      +'<div style="flex:1;min-width:0;"><p style="font-size:14px;font-weight:900;font-style:italic;color:#e2e8f0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+esc(item.title)+'</p></div>'
      +'<button class="btn-del" data-col="plans_daily" data-id="'+item.id+'"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg></button>'
      +'</div>';
  }).join('');
  bindDragItems('plans_daily');
  bindDeleteBtns();
}

function renderAssets() {
  var el = document.getElementById('assetList');
  if (!el) return;
  var items = DB.assets || [];
  if (!items.length) { el.innerHTML = '<p class="empty-msg">å°šç„¡è³‡ç”¢</p>'; return; }
  el.innerHTML = items.map(function(a) {
    return '<div class="asset-item">'
      +'<div style="flex:1;min-width:0;padding-right:10px;">'
      +'<div style="font-size:13px;font-weight:900;color:#e2e8f0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+esc(a.name)+'</div>'
      +'<div style="display:flex;gap:8px;margin-top:4px;align-items:center;">'
      +'<span style="font-size:10px;color:#64748b;font-weight:900;text-transform:uppercase;">'+esc(a.category)+'</span>'
      +'<span style="font-size:14px;font-weight:900;color:#60a5fa;font-style:italic;">$'+Number(a.amount).toLocaleString()+'</span>'
      +'</div></div>'
      +'<div style="display:flex;gap:2px;flex-shrink:0;">'
      +'<button class="btn-edit" data-edit-asset="'+a.id+'"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg></button>'
      +'<button class="btn-del" data-col="assets" data-id="'+a.id+'"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg></button>'
      +'</div></div>';
  }).join('');
  var editBtns = document.querySelectorAll('[data-edit-asset]');
  for (var i=0; i<editBtns.length; i++) {
    (function(btn) {
      var handler = function(e) {
        e.preventDefault();
        openModal('assets','edit','ç·¨è¼¯è³‡ç”¢',[{name:'name',label:'åç¨±',type:'text'},{name:'amount',label:'å¸‚å€¼é‡‘é¡',type:'number'},{name:'category',label:'åˆ†é¡',type:'text'}], btn.getAttribute('data-edit-asset'));
      };
      btn.addEventListener('click', handler);
      btn.addEventListener('touchend', handler);
    })(editBtns[i]);
  }
  bindDeleteBtns();
}

function renderHealthLogs() {
  var el = document.getElementById('healthLogs');
  if (!el) return;
  var logs = (DB.health_logs||[]).slice().reverse().slice(0,10);
  if (!logs.length) { el.innerHTML = '<p class="empty-msg">å°šç„¡è¨˜éŒ„</p>'; return; }
  el.innerHTML = logs.map(function(l) {
    return '<div style="display:flex;justify-content:space-between;align-items:center;padding:11px 14px;background:rgba(30,41,59,0.2);border-radius:11px;margin-bottom:8px;border:1px solid #1e293b;">'
      +'<span style="font-size:11px;color:#64748b;flex-shrink:0;">'+new Date(l.createdAt).toLocaleDateString('zh-TW')+'</span>'
      +'<div style="display:flex;gap:11px;flex-wrap:wrap;">'
      +(l.weight?'<span style="font-size:12px;color:#3b82f6;font-weight:900;">é«”é‡ '+l.weight+'kg</span>':'')
      +(l.fat?'<span style="font-size:12px;color:#ef4444;font-weight:900;">é«”è„‚ '+l.fat+'%</span>':'')
      +(l.muscle?'<span style="font-size:12px;color:#10b981;font-weight:900;">è‚Œè‚‰ '+l.muscle+'kg</span>':'')
      +'</div>'
      +'<button class="btn-del" data-col="health_logs" data-id="'+l.id+'"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg></button>'
      +'</div>';
  }).join('');
  bindDeleteBtns();
}

function renderNotes(key) {
  var el = document.getElementById('notes-' + key);
  if (!el) return;
  var items = DB['notes_'+key] || [];
  if (!items.length) { el.innerHTML = '<p class="empty-msg">å°šç„¡ç­†è¨˜</p>'; return; }
  el.innerHTML = items.map(function(n) {
    return '<div class="note-card">'
      +'<button class="note-header" data-ntoggle="'+n.id+'" data-nkey="'+key+'">'
      +'<span style="overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1;padding-right:10px;">'+esc(n.title)+'</span>'
      +'<span id="chev-'+key+'-'+n.id+'" style="color:#475569;flex-shrink:0;">â–¾</span>'
      +'</button>'
      +'<div id="nbody-'+key+'-'+n.id+'" style="display:none;" class="note-body">'
      +'<p style="white-space:pre-wrap;margin-bottom:13px;">'+esc(n.content||'')+'</p>'
      +'<div style="display:flex;justify-content:flex-end;gap:13px;">'
      +'<button class="btn-text-blue" data-edit-note-key="'+key+'" data-edit-note-id="'+n.id+'">ç·¨è¼¯</button>'
      +'<button class="btn-text-red" data-col="notes_'+key+'" data-id="'+n.id+'">åˆªé™¤</button>'
      +'</div></div></div>';
  }).join('');
  var toggleBtns = el.querySelectorAll('[data-ntoggle]');
  for (var i=0; i<toggleBtns.length; i++) {
    (function(btn) {
      var handler = function(e) { e.preventDefault(); toggleNote(btn.getAttribute('data-ntoggle'), btn.getAttribute('data-nkey')); };
      btn.addEventListener('click', handler);
      btn.addEventListener('touchend', handler);
    })(toggleBtns[i]);
  }
  var editBtns = el.querySelectorAll('[data-edit-note-key]');
  for (var j=0; j<editBtns.length; j++) {
    (function(btn) {
      var handler = function(e) {
        e.preventDefault();
        var nkey = btn.getAttribute('data-edit-note-key');
        openModal('notes_'+nkey,'edit','ç·¨è¼¯ç­†è¨˜',[{name:'title',label:'æ¨™é¡Œ',type:'text'},{name:'content',label:'å…§å®¹',type:'textarea'}], btn.getAttribute('data-edit-note-id'));
      };
      btn.addEventListener('click', handler);
      btn.addEventListener('touchend', handler);
    })(editBtns[j]);
  }
  bindDeleteBtns();
}

function renderTravel() {
  var el = document.getElementById('travelList');
  if (!el) return;
  var items = DB.travel || [];
  if (!items.length) { el.innerHTML = '<p class="empty-msg">å°šç„¡è¡Œç¨‹ï¼Œé»æ“Š + æ–°å¢</p>'; return; }
  el.innerHTML = items.map(function(t) {
    return '<div class="travel-card">'
      +'<div style="display:flex;align-items:center;gap:13px;">'
      +'<div class="travel-icon"><svg width="21" height="21" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg></div>'
      +'<div><p style="font-size:14px;font-weight:900;font-style:italic;color:white;">'+esc(t.destination)+'</p><p style="font-size:11px;color:#64748b;font-weight:700;margin-top:4px;">'+t.start+' ï½ '+t.end+'</p></div>'
      +'</div>'
      +'<button class="btn-del" data-col="travel" data-id="'+t.id+'"><svg width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg></button>'
      +'</div>';
  }).join('');
  bindDeleteBtns();
}

function renderAll() {
  renderRadar();
  renderPie('pieSvgDash','pieLegendDash');
  renderPie('pieSvgAsset','pieLegendAsset');
  renderDashStats();
  renderDashYearly();
  renderYearly();
  renderDaily();
  renderAssets();
  renderHealthChart();
  renderHealthLogs();
  ['life','book','trading','web'].forEach(renderNotes);
  renderTravel();
}

// â”€â”€â”€ NOTE TOGGLE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function toggleNote(id, key) {
  var body = document.getElementById('nbody-'+key+'-'+id);
  var chev = document.getElementById('chev-'+key+'-'+id);
  if (!body) return;
  var isOpen = body.style.display !== 'none';
  body.style.display = isOpen ? 'none' : 'block';
  if (chev) chev.textContent = isOpen ? 'â–¾' : 'â–´';
}

// â”€â”€â”€ DRAG & DROP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function bindDragItems(col) {
  var items = document.querySelectorAll('[data-col="'+col+'"].drag-item');
  for (var i=0; i<items.length; i++) {
    (function(item) {
      item.addEventListener('dragstart', function(e) { dragSrc = item; e.dataTransfer.effectAllowed='move'; });
      item.addEventListener('dragover', function(e) { e.preventDefault(); item.classList.add('drag-over'); });
      item.addEventListener('dragleave', function() { item.classList.remove('drag-over'); });
      item.addEventListener('dragend', function() { document.querySelectorAll('.drag-item').forEach(function(el){ el.classList.remove('drag-over'); }); });
      item.addEventListener('drop', function(e) {
        e.preventDefault(); item.classList.remove('drag-over');
        if (!dragSrc || dragSrc===item) return;
        var fromIdx = parseInt(dragSrc.getAttribute('data-idx'));
        var toIdx = parseInt(item.getAttribute('data-idx'));
        var arr = (DB[col]||[]).slice();
        var removed = arr.splice(fromIdx,1);
        arr.splice(toIdx,0,removed[0]);
        DB[col]=arr; save(DB); renderAll();
      });
    })(items[i]);
  }
}

// â”€â”€â”€ SHARED DELEGATES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function bindDeleteBtns() {
  var btns = document.querySelectorAll('.btn-del[data-col][data-id]');
  for (var i=0; i<btns.length; i++) {
    (function(btn) {
      var handler = function(e) {
        e.preventDefault();
        var col = btn.getAttribute('data-col');
        var id = btn.getAttribute('data-id');
        if (!DB[col]) return;
        DB[col] = DB[col].filter(function(it){ return it.id!==id; });
        save(DB); renderAll();
      };
      btn.addEventListener('click', handler);
      btn.addEventListener('touchend', handler);
    })(btns[i]);
  }
}

function bindProgressInputs() {
  var inputs = document.querySelectorAll('.prog-input[data-col][data-id]');
  for (var i=0; i<inputs.length; i++) {
    (function(input) {
      input.addEventListener('change', function() {
        var col = input.getAttribute('data-col');
        var id = input.getAttribute('data-id');
        var v = Math.min(100,Math.max(0,parseInt(input.value)||0));
        if (!DB[col]) return;
        DB[col]=DB[col].map(function(it){ return it.id===id?Object.assign({},it,{progress:v}):it; });
        save(DB); renderAll();
      });
    })(inputs[i]);
  }
}

// â”€â”€â”€ MODAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function openModal(col, type, title, fields, editId) {
  modalMeta = {col:col, type:type, fields:fields, editId:editId};
  document.getElementById('modalTitle').textContent = title;
  var fd = document.getElementById('modalFields');
  var initData = {};
  if (type==='edit' && editId && col!=='emergency_fund') {
    var arr = DB[col]||[];
    for (var i=0; i<arr.length; i++) { if (arr[i].id===editId) { initData=arr[i]; break; } }
  }
  if (col==='emergency_fund') initData = {value:DB.emergencyFund||0};
  fd.innerHTML = fields.map(function(f) {
    var val = esc(String(initData[f.name]||''));
    return '<div class="form-group"><label>'+f.label+'</label>'
      +(f.type==='textarea'?'<textarea name="'+f.name+'">'+val+'</textarea>':'<input name="'+f.name+'" type="'+f.type+'" step="any" value="'+val+'"/>')

```
  +'</div>';
```

}).join(â€™â€™);
var overlay = document.getElementById(â€˜modalOverlayâ€™);
overlay.style.display = â€˜flexâ€™;
}

function closeModal() { document.getElementById(â€˜modalOverlayâ€™).style.display=â€˜noneâ€™; }

document.getElementById(â€˜closeModalBtnâ€™).addEventListener(â€˜clickâ€™, function(e){ e.preventDefault(); closeModal(); });
document.getElementById(â€˜closeModalBtnâ€™).addEventListener(â€˜touchendâ€™, function(e){ e.preventDefault(); closeModal(); });
document.getElementById(â€˜modalBgâ€™).addEventListener(â€˜clickâ€™, function(e){ if(e.target===this) closeModal(); });
document.getElementById(â€˜modalFormâ€™).addEventListener(â€˜submitâ€™, function(e) {
e.preventDefault();
var fd = new FormData(e.target);
var data = {};
fd.forEach(function(val,key){ data[key]=val; });
var col=modalMeta.col, type=modalMeta.type, editId=modalMeta.editId;
if (col===â€˜emergency_fundâ€™) {
DB.emergencyFund = Number(data.value);
} else if (type===â€˜editâ€™) {
DB[col]=(DB[col]||[]).map(function(it){ return it.id===editId?Object.assign({},it,data):it; });
} else {
if (!DB[col]) DB[col]=[];
DB[col].push(Object.assign({id:genId(),createdAt:Date.now()},data));
}
save(DB); closeModal(); renderAll();
});

// â”€â”€â”€ STATIC BUTTON BINDINGS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(function() {
var map = [
[â€˜aiBtnâ€™, function(){ generateAI(); }],
[â€˜assetAiBtnâ€™, function(){ getAssetAI(); }],
[â€˜voiceBtnâ€™, function(){ handleVoice(); }],
[â€˜emergencyBtnâ€™, function(){ openModal(â€˜emergency_fundâ€™,â€˜editâ€™,â€˜ä¿®æ”¹ç·Šæ€¥é å‚™é‡‘â€™,[{name:â€˜valueâ€™,label:â€˜é‡‘é¡â€™,type:â€˜numberâ€™}]); }],
[â€˜addYearlyBtnâ€™, function(){ openModal(â€˜plans_yearlyâ€™,â€˜addâ€™,â€˜æ–°å¢å¹´åº¦è¨ˆç•«â€™,[{name:â€˜titleâ€™,label:â€˜ç›®æ¨™åç¨±â€™,type:â€˜textâ€™},{name:â€˜progressâ€™,label:â€˜ç›®å‰é€²åº¦(%)â€™,type:â€˜numberâ€™}]); }],
[â€˜addDailyBtnâ€™, function(){ openModal(â€˜plans_dailyâ€™,â€˜addâ€™,â€˜æ–°å¢æ¯æ—¥ä»»å‹™â€™,[{name:â€˜titleâ€™,label:â€˜ä»»å‹™å…§å®¹â€™,type:â€˜textâ€™}]); }],
[â€˜addHealthBtnâ€™, function(){ openModal(â€˜health_logsâ€™,â€˜addâ€™,â€˜è¨˜éŒ„ä»Šæ—¥æ•¸æ“šâ€™,[{name:â€˜weightâ€™,label:â€˜é«”é‡(kg)â€™,type:â€˜numberâ€™},{name:â€˜fatâ€™,label:â€˜é«”è„‚(%)â€™,type:â€˜numberâ€™},{name:â€˜muscleâ€™,label:â€˜è‚Œè‚‰é‡(kg)â€™,type:â€˜numberâ€™}]); }],
[â€˜addAssetBtnâ€™, function(){ openModal(â€˜assetsâ€™,â€˜addâ€™,â€˜æ–°å¢è³‡ç”¢â€™,[{name:â€˜nameâ€™,label:â€˜åç¨±â€™,type:â€˜textâ€™},{name:â€˜amountâ€™,label:â€˜å¸‚å€¼é‡‘é¡â€™,type:â€˜numberâ€™},{name:â€˜categoryâ€™,label:â€˜åˆ†é¡(å°è‚¡/ç¾è‚¡/ç¾é‡‘/é»ƒé‡‘/å€Ÿæ¬¾)â€™,type:â€˜textâ€™}]); }],
[â€˜addNoteLifeBtnâ€™, function(){ openModal(â€˜notes_lifeâ€™,â€˜addâ€™,â€˜æ–°å¢äººç”Ÿæˆé•·â€™,[{name:â€˜titleâ€™,label:â€˜æ¨™é¡Œâ€™,type:â€˜textâ€™},{name:â€˜contentâ€™,label:â€˜å…§å®¹â€™,type:â€˜textareaâ€™}]); }],
[â€˜addNoteBookBtnâ€™, function(){ openModal(â€˜notes_bookâ€™,â€˜addâ€™,â€˜æ–°å¢æ›¸ç±é‡é»â€™,[{name:â€˜titleâ€™,label:â€˜æ¨™é¡Œâ€™,type:â€˜textâ€™},{name:â€˜contentâ€™,label:â€˜å…§å®¹â€™,type:â€˜textareaâ€™}]); }],
[â€˜addNoteTradingBtnâ€™, function(){ openModal(â€˜notes_tradingâ€™,â€˜addâ€™,â€˜æ–°å¢å°æŒ‡äº¤æ˜“â€™,[{name:â€˜titleâ€™,label:â€˜æ¨™é¡Œâ€™,type:â€˜textâ€™},{name:â€˜contentâ€™,label:â€˜å…§å®¹â€™,type:â€˜textareaâ€™}]); }],
[â€˜addNoteWebBtnâ€™, function(){ openModal(â€˜notes_webâ€™,â€˜addâ€™,â€˜æ–°å¢ç¶²è·¯å¿ƒå¾—â€™,[{name:â€˜titleâ€™,label:â€˜æ¨™é¡Œâ€™,type:â€˜textâ€™},{name:â€˜contentâ€™,label:â€˜å…§å®¹â€™,type:â€˜textareaâ€™}]); }],
[â€˜addTravelBtnâ€™, function(){ openModal(â€˜travelâ€™,â€˜addâ€™,â€˜æ–°å¢æ—…éŠè¡Œç¨‹â€™,[{name:â€˜destinationâ€™,label:â€˜ç›®çš„åœ°â€™,type:â€˜textâ€™},{name:â€˜startâ€™,label:â€˜é–‹å§‹æ—¥æœŸâ€™,type:â€˜dateâ€™},{name:â€˜endâ€™,label:â€˜çµæŸæ—¥æœŸâ€™,type:â€˜dateâ€™}]); }],
];
map.forEach(function(pair) {
var el = document.getElementById(pair[0]);
if (!el) return;
el.addEventListener(â€˜clickâ€™, function(e){ e.preventDefault(); pair[1](); });
el.addEventListener(â€˜touchendâ€™, function(e){ e.preventDefault(); pair[1](); });
});
})();

// â”€â”€â”€ AI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function callAI(prompt, json) {
var url = â€˜https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=â€™+GEMINI_KEY;
var body = {contents:[{parts:[{text:prompt}]}]};
if (json) body.generationConfig = {responseMimeType:â€˜application/jsonâ€™};
return fetch(url,{method:â€˜POSTâ€™,headers:{â€˜Content-Typeâ€™:â€˜application/jsonâ€™},body:JSON.stringify(body)})
.then(function(r){ return r.json(); })
.then(function(d){ return (d.candidates&&d.candidates[0]&&d.candidates[0].content&&d.candidates[0].content.parts&&d.candidates[0].content.parts[0]&&d.candidates[0].content.parts[0].text)||â€™â€™; });
}

function generateAI() {
if (aiLoading) return;
aiLoading = true;
var btn = document.getElementById(â€˜aiBtnâ€™);
var summary = document.getElementById(â€˜aiSummaryâ€™);
if (btn) btn.textContent = â€˜é‹ç®—ä¸­â€¦â€™;
var ctx = â€˜è³‡ç”¢ç¸½é¡ï¼šâ€™+getTotal().toLocaleString()+â€˜å…ƒï¼Œé…ç½®ï¼šâ€™+JSON.stringify(getCategorized());
Promise.all([
callAI(â€˜åˆ†æäººç”Ÿæ•¸æ“šï¼Œå°è²¡å‹™ã€å¥åº·ã€è‡ªæˆ‘æˆé•·ã€åŸ·è¡ŒåŠ›ã€ç”Ÿæ´»é«”é©—å„è©•0-100åˆ†ï¼Œåªå›å‚³JSONï¼š{â€œwealthâ€:N,â€œhealthâ€:N,â€œgrowthâ€:N,â€œdisciplineâ€:N,â€œexperienceâ€:N}ã€‚è³‡æ–™ï¼šâ€™+ctx, true),
callAI(â€˜æ ¹æ“šè³‡æ–™ï¼šâ€™+ctx+â€™ï¼Œç”¨ç¹é«”ä¸­æ–‡ç´„150å­—çµ¦å‡ºäººç”Ÿæˆé•·èˆ‡ç†è²¡å»ºè­°ã€‚â€™, false)
]).then(function(res) {
try { if(res[0]) radarData=JSON.parse(res[0]); } catch(e){}
if (summary) summary.textContent = res[1]||â€˜AI åˆ†æå®Œæˆã€‚â€™;
renderRadar();
}).catch(function() {
if (summary) summary.textContent = â€˜AI åˆ†ææš«æ™‚ç„¡æ³•ä½¿ç”¨ï¼Œè«‹ç¢ºèªç¶²è·¯é€£ç·šã€‚â€™;
}).then(function() {
aiLoading=false;
if (btn) btn.textContent=â€˜é‡æ–°ç”¢ç”Ÿâ€™;
});
}

function getAssetAI() {
if (aiLoading) return;
aiLoading = true;
var btn = document.getElementById(â€˜assetAiBtnâ€™);
var adv = document.getElementById(â€˜assetAdviceâ€™);
if (btn) btn.textContent=â€˜åˆ†æä¸­â€¦â€™;
callAI(â€˜åˆ†æè³‡ç”¢é…ç½®ï¼šâ€™+JSON.stringify(getCategorized())+â€™ï¼Œç”¨ç¹é«”ä¸­æ–‡ç´„100å­—çµ¦å‡ºå…·é«”å„ªåŒ–å»ºè­°ã€‚â€™, false)
.then(function(r){ if(adv) adv.textContent=r||â€˜åˆ†æå®Œæˆã€‚â€™; })
.catch(function(){ if(adv) adv.textContent=â€˜AI åˆ†ææš«æ™‚ç„¡æ³•ä½¿ç”¨ã€‚â€™; })
.then(function(){ aiLoading=false; if(btn) btn.textContent=â€˜é–‹å§‹åˆ†æâ€™; });
}

// â”€â”€â”€ VOICE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function handleVoice() {
var SR = window.SpeechRecognition || window.webkitSpeechRecognition;
var btn = document.getElementById(â€˜voiceBtnâ€™);
if (!SR) { alert(â€˜èªéŸ³è¼¸å…¥éœ€è¦åœ¨ Safari è¨­å®šä¸­å…è¨±éº¥å…‹é¢¨ï¼Œæˆ–è«‹ä½¿ç”¨ Chrome ç€è¦½å™¨ã€‚â€™); return; }
var rec = new SR();
rec.lang=â€˜zh-TWâ€™; rec.start();
if (btn) btn.classList.add(â€˜listeningâ€™);
rec.onresult = function(ev) {
var t = ev.results[0][0].transcript;
if (btn) btn.classList.remove(â€˜listeningâ€™);
callAI(â€˜è§£æèªå¥æ­¸é¡ç‚ºhealth_logsï¼ˆå«é«”é‡/é«”è„‚/è‚Œè‚‰ï¼‰ï¼Œèªå¥ï¼šã€Œâ€™+t+â€™ã€ï¼Œåªå›å‚³JSONï¼š{â€œtypeâ€:â€œhealth_logsâ€,â€œdataâ€:{ç›¸é—œæ¬„ä½}}â€™, true)
.then(function(r){
try {
var p=JSON.parse(r);
if(!DB[p.type]) DB[p.type]=[];
DB[p.type].push(Object.assign({id:genId(),createdAt:Date.now()},p.data));
save(DB); renderAll();
} catch(e){}
});
};
rec.onerror = function(){ if(btn) btn.classList.remove(â€˜listeningâ€™); };
}

// â”€â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
renderAll();
</script>

</body>
</html>
